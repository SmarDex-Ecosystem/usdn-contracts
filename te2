| test/unit/UsdnProtocol/utils/Handler.sol:UsdnProtocolHandler contract                |                 |        |        |        |         |
|--------------------------------------------------------------------------------------|-----------------|--------|--------|--------|---------|
| Deployment Cost                                                                      | Deployment Size |        |        |        |         |
| 13040469                                                                             | 60207           |        |        |        |         |
| Function Name                                                                        | min             | avg    | median | max    | # calls |
| BPS_DIVISOR                                                                          | 920             | 1098   | 920    | 5420   | 151     |
| DEAD_ADDRESS                                                                         | 885             | 885    | 885    | 885    | 99      |
| FUNDING_RATE_DECIMALS                                                                | 942             | 942    | 942    | 942    | 5       |
| FUNDING_SF_DECIMALS                                                                  | 906             | 3906   | 5406   | 5406   | 3       |
| LEVERAGE_DECIMALS                                                                    | 946             | 1846   | 946    | 5446   | 20      |
| LIQUIDATION_MULTIPLIER_DECIMALS                                                      | 5428            | 5428   | 5428   | 5428   | 1       |
| MAX_ACTIONABLE_PENDING_ACTIONS                                                       | 941             | 941    | 941    | 941    | 1       |
| MAX_LIQUIDATION_ITERATION                                                            | 5448            | 5448   | 5448   | 5448   | 2       |
| MIN_INIT_DEPOSIT                                                                     | 5395            | 5395   | 5395   | 5395   | 2       |
| MIN_USDN_SUPPLY                                                                      | 875             | 923    | 875    | 5375   | 186     |
| NO_POSITION_TICK                                                                     | 908             | 908    | 908    | 908    | 2       |
| PROXY_UPGRADE_ROLE                                                                   | 338             | 338    | 338    | 338    | 1       |
| SDEX_BURN_ON_DEPOSIT_DIVISOR                                                         | 915             | 2760   | 915    | 5415   | 100     |
| TOKENS_DECIMALS                                                                      | 914             | 1664   | 914    | 5414   | 12      |
| UPGRADE_INTERFACE_VERSION                                                            | 868             | 868    | 868    | 868    | 1       |
| acceptDefaultAdminTransfer                                                           | 43547           | 43547  | 43547  | 43547  | 706     |
| beginDefaultAdminTransfer                                                            | 28980           | 28980  | 28980  | 28980  | 706     |
| calcEMA                                                                              | 2332            | 2332   | 2332   | 2332   | 4       |
| emptyVault                                                                           | 10382           | 10382  | 10382  | 10382  | 2       |
| findLastSetInTickBitmap                                                              | 2256            | 4041   | 2256   | 6756   | 7       |
| funding                                                                              | 3082            | 6769   | 5289   | 14786  | 8       |
| getActionablePendingActions                                                          | 3459            | 24737  | 20458  | 47302  | 67      |
| getAsset                                                                             | 1001            | 7464   | 7501   | 7501   | 715     |
| getAssetDecimals                                                                     | 1042            | 1060   | 1042   | 7542   | 709     |
| getBalanceLong                                                                       | 995             | 2606   | 995    | 7495   | 108     |
| getBalanceVault                                                                      | 1037            | 2260   | 1037   | 7537   | 103     |
| getCloseExpoImbalanceLimitBps                                                        | 997             | 2518   | 2997   | 7497   | 23      |
| getCurrentLongPosition                                                               | 3281            | 3281   | 3281   | 3281   | 1       |
| getDepositExpoImbalanceLimitBps                                                      | 1020            | 2067   | 3020   | 3020   | 21      |
| getEMA                                                                               | 993             | 1937   | 993    | 7493   | 18      |
| getEMAPeriod                                                                         | 1018            | 1018   | 1018   | 1018   | 5       |
| getEffectivePriceForTick(int24)                                                      | 3640            | 6970   | 6190   | 23690  | 64      |
| getEffectivePriceForTick(int24,uint256,uint256,(uint256,uint256))                    | 3621            | 4381   | 3621   | 13671  | 106     |
| getEffectiveTickForPrice(uint128)                                                    | 4277            | 23494  | 26490  | 26490  | 17      |
| getEffectiveTickForPrice(uint128,uint256,uint256,(uint256,uint256),int24)            | 4266            | 8032   | 9203   | 10673  | 6       |
| getFallbackAddress                                                                   | 1012            | 1012   | 1012   | 1012   | 1       |
| getFeeCollector                                                                      | 970             | 970    | 970    | 970    | 99      |
| getFeeThreshold                                                                      | 997             | 1219   | 997    | 2997   | 9       |
| getFundingSF                                                                         | 998             | 1151   | 998    | 2998   | 13      |
| getHighestPopulatedTick                                                              | 1063            | 1094   | 1063   | 7563   | 811     |
| getLastFundingPerDay                                                                 | 972             | 2180   | 1972   | 5472   | 12      |
| getLastPrice                                                                         | 1054            | 2671   | 1054   | 7554   | 17      |
| getLastRebaseCheck                                                                   | 1011            | 3511   | 3011   | 5511   | 6       |
| getLastUpdateTimestamp                                                               | 1020            | 1672   | 1020   | 7520   | 23      |
| getLiqMultiplierAccumulator                                                          | 1247            | 2782   | 1247   | 5747   | 42      |
| getLiquidationIteration                                                              | 987             | 987    | 987    | 987    | 2       |
| getLiquidationPenalty                                                                | 988             | 1113   | 988    | 7488   | 717     |
| getLiquidationRewardsManager                                                         | 969             | 1969   | 1969   | 2969   | 2       |
| getLongImbalanceTargetBps                                                            | 1016            | 1349   | 1016   | 3016   | 12      |
| getLongPosition                                                                      | 3346            | 8482   | 8026   | 20526  | 181     |
| getLongTradingExpo                                                                   | 2117            | 3259   | 2800   | 11300  | 17      |
| getLowLatencyValidatorDeadline                                                       | 1010            | 1825   | 1010   | 7510   | 73      |
| getMaxLeverage                                                                       | 976             | 2808   | 2976   | 7476   | 1005    |
| getMiddlewareValidationDelay                                                         | 8227            | 8227   | 8227   | 8227   | 1       |
| getMinLeverage                                                                       | 1041            | 4398   | 3041   | 7541   | 7       |
| getMinLongPosition                                                                   | 1043            | 3076   | 3043   | 7543   | 718     |
| getOnChainValidatorDeadline                                                          | 999             | 2032   | 999    | 7499   | 15      |
| getOpenExpoImbalanceLimitBps                                                         | 973             | 3092   | 2973   | 7473   | 21      |
| getOracleMiddleware                                                                  | 990             | 1990   | 1990   | 2990   | 2       |
| getPendingBalanceVault                                                               | 1017            | 2868   | 3017   | 7517   | 37      |
| getPendingProtocolFee                                                                | 971             | 3028   | 2971   | 7471   | 96      |
| getPositionFeeBps                                                                    | 988             | 1046   | 988    | 2988   | 103     |
| getPositionValue                                                                     | 18739           | 24191  | 18874  | 59446  | 17      |
| getPriceFeedDecimals                                                                 | 1045            | 2891   | 1045   | 7545   | 13      |
| getProtocolFeeBps                                                                    | 1042            | 4292   | 4292   | 7542   | 4       |
| getQueueItem                                                                         | 1984            | 1984   | 1984   | 1984   | 11      |
| getRebalancer                                                                        | 1056            | 1722   | 1056   | 3056   | 3       |
| getRebalancerBonusBps                                                                | 1064            | 3980   | 3314   | 7564   | 6       |
| getRebalancerCloseExpoImbalanceLimitBps                                              | 977             | 1592   | 977    | 2977   | 13      |
| getSafetyMarginBps                                                                   | 1015            | 2515   | 3015   | 3015   | 4       |
| getSdex                                                                              | 2989            | 2989   | 2989   | 2989   | 2       |
| getSdexBurnOnDepositRatio                                                            | 1034            | 1822   | 1034   | 7534   | 130     |
| getSecurityDepositValue                                                              | 970             | 3006   | 970    | 7470   | 384     |
| getTargetUsdnPrice                                                                   | 1011            | 2427   | 1011   | 7511   | 6       |
| getTickData                                                                          | 2854            | 5180   | 2854   | 17854  | 52      |
| getTickLiquidationPenalty                                                            | 3074            | 5362   | 3105   | 11605  | 13      |
| getTickSpacing                                                                       | 1052            | 1097   | 1052   | 7552   | 803     |
| getTickVersion                                                                       | 1247            | 2203   | 1247   | 7747   | 23      |
| getTotalExpo                                                                         | 1019            | 2171   | 1019   | 7519   | 92      |
| getTotalLongPositions                                                                | 971             | 3471   | 971    | 7471   | 37      |
| getUsdn                                                                              | 1008            | 2758   | 3008   | 3008   | 8       |
| getUsdnMinDivisor                                                                    | 2972            | 2972   | 2972   | 2972   | 2       |
| getUsdnRebaseInterval                                                                | 1020            | 2186   | 3020   | 3020   | 12      |
| getUsdnRebaseThreshold                                                               | 1049            | 1849   | 1049   | 3049   | 5       |
| getUserPendingAction                                                                 | 5195            | 8822   | 10218  | 10218  | 72      |
| getVaultFeeBps                                                                       | 1057            | 1342   | 1057   | 3057   | 7       |
| getWithdrawalExpoImbalanceLimitBps                                                   | 1014            | 2066   | 3014   | 3014   | 19      |
| i_addPendingAction                                                                   | 33722           | 166610 | 195753 | 212853 | 23      |
| i_applyPnlAndFunding                                                                 | 11514           | 47881  | 35569  | 78377  | 5       |
| i_assetToRemove                                                                      | 3056            | 4086   | 3056   | 5566   | 17      |
| i_calcBitmapIndexFromTick                                                            | 4220            | 5220   | 5220   | 6220   | 2       |
| i_calcBurnUsdn                                                                       | 1276            | 2109   | 1276   | 3776   | 3       |
| i_calcFixedPrecisionMultiplier                                                       | 5167            | 5167   | 5167   | 5167   | 1       |
| i_calcImbalanceCloseBps                                                              | 1984            | 2976   | 1984   | 4484   | 7       |
| i_calcImbalanceOpenBps                                                               | 1947            | 3012   | 2876   | 4348   | 4       |
| i_calcLiqPriceFromTradingExpo                                                        | 1912            | 3802   | 4412   | 4412   | 9       |
| i_calcPositionTotalExpo                                                              | 2066            | 2077   | 2066   | 4566   | 804     |
| i_calcRebalancerPositionTick                                                         | 11028           | 29254  | 30532  | 42352  | 6       |
| i_calcRebaseTotalSupply                                                              | 2668            | 3168   | 2668   | 5168   | 5       |
| i_calcSdexToBurn                                                                     | 1407            | 1687   | 1407   | 3907   | 9       |
| i_calcTickFromBitmapIndex                                                            | 4319            | 5319   | 5319   | 6319   | 2       |
| i_calcTickWithoutPenalty(int24)                                                      | 780             | 1002   | 780    | 2780   | 117     |
| i_calcTickWithoutPenalty(int24,uint24)                                               | 747             | 747    | 747    | 747    | 21      |
| i_calcUsdnPrice                                                                      | 2518            | 2830   | 2518   | 5018   | 8       |
| i_calcWithdrawalAmountLSB                                                            | 3731            | 3731   | 3731   | 3731   | 1       |
| i_calcWithdrawalAmountMSB                                                            | 1316            | 1316   | 1316   | 1316   | 1       |
| i_calculateFee                                                                       | 8633            | 8633   | 8633   | 8633   | 3       |
| i_checkImbalanceLimitClose                                                           | 3305            | 6592   | 6405   | 8395   | 7       |
| i_checkImbalanceLimitDeposit                                                         | 1576            | 4906   | 5408   | 7201   | 6       |
| i_checkImbalanceLimitOpen                                                            | 2896            | 7580   | 9353   | 10755  | 6       |
| i_checkImbalanceLimitWithdrawal                                                      | 2734            | 5097   | 5191   | 8461   | 6       |
| i_checkInitImbalance                                                                 | 1923            | 3783   | 4423   | 5191   | 7       |
| i_checkInitiateClosePosition                                                         | 3323            | 5739   | 5827   | 8337   | 12      |
| i_checkPendingFee                                                                    | 7632            | 30874  | 30874  | 54116  | 2       |
| i_checkSafetyMargin                                                                  | 4417            | 5373   | 5373   | 6329   | 2       |
| i_clearPendingAction                                                                 | 9864            | 42069  | 45711  | 54111  | 6       |
| i_convertDepositPendingAction                                                        | 7741            | 8894   | 7741   | 10241  | 13      |
| i_convertLongPendingAction                                                           | 7789            | 8622   | 7789   | 10289  | 3       |
| i_convertWithdrawalPendingAction                                                     | 7653            | 7653   | 7653   | 7653   | 1       |
| i_createClosePendingAction                                                           | 194786          | 196262 | 196262 | 197738 | 2       |
| i_createDepositPendingAction                                                         | 221884          | 223360 | 223360 | 224836 | 2       |
| i_createInitialDeposit                                                               | 156167          | 156167 | 156167 | 156167 | 1       |
| i_createInitialPosition                                                              | 340486          | 340486 | 340486 | 340486 | 1       |
| i_createOpenPendingAction                                                            | 162960          | 164436 | 164436 | 165912 | 2       |
| i_createWithdrawalPendingAction                                                      | 225848          | 227324 | 227324 | 228800 | 2       |
| i_executePendingAction                                                               | 16240           | 82756  | 43838  | 265756 | 5       |
| i_executePendingActionOrRevert                                                       | 42823           | 84419  | 43965  | 206924 | 4       |
| i_findHighestPopulatedTick                                                           | 3859            | 486762 | 717559 | 717559 | 6       |
| i_flashClosePosition                                                                 | 11729           | 43976  | 30419  | 89780  | 3       |
| i_flashOpenPosition                                                                  | 113349          | 155060 | 155060 | 196772 | 2       |
| i_funding                                                                            | 20874           | 97718  | 116403 | 117646 | 11      |
| i_fundingPerDay                                                                      | 3252            | 4252   | 4252   | 5252   | 4       |
| i_getActionablePendingAction                                                         | 12343           | 42796  | 39222  | 97578  | 12      |
| i_getEffectivePriceForTick                                                           | 3255            | 3255   | 3255   | 3255   | 11      |
| i_getLeverage                                                                        | 2068            | 3744   | 4568   | 4568   | 20      |
| i_getLiquidationPrice                                                                | 1288            | 1288   | 1288   | 1288   | 5       |
| i_getOraclePrice                                                                     | 12701           | 28201  | 27385  | 46671  | 37      |
| i_getPendingAction                                                                   | 5051            | 9376   | 10073  | 10073  | 44      |
| i_getPendingActionOrRevert                                                           | 6869            | 8679   | 8679   | 10490  | 2       |
| i_getTickFromDesiredLiqPrice(uint128,uint256,int24,uint24)                           | 6533            | 6533   | 6533   | 6533   | 3       |
| i_getTickFromDesiredLiqPrice(uint128,uint256,uint256,(uint256,uint256),int24,uint24) | 6486            | 11504  | 11486  | 19243  | 704     |
| i_initiateClosePosition                                                              | 17976           | 151848 | 32511  | 305480 | 11      |
| i_liquidatePositions                                                                 | 7592            | 191479 | 118952 | 520419 | 4       |
| i_longAssetAvailable                                                                 | 1832            | 6430   | 6015   | 11015  | 14      |
| i_mergeWithdrawalAmountParts                                                         | 1449            | 1449   | 1449   | 1449   | 6       |
| i_positionValue                                                                      | 1930            | 2144   | 1930   | 4430   | 12      |
| i_prepareClosePositionData                                                           | 155466          | 221131 | 252991 | 254936 | 3       |
| i_prepareInitiateDepositData                                                         | 84768           | 158886 | 158886 | 233005 | 2       |
| i_prepareValidateOpenPositionData                                                    | 173837          | 239462 | 272004 | 272547 | 3       |
| i_prepareWithdrawalData                                                              | 63539           | 148314 | 148314 | 233090 | 2       |
| i_protocolFeeBps                                                                     | 461             | 461    | 461    | 461    | 4       |
| i_refundEther                                                                        | 3746            | 13477  | 7237   | 35690  | 4       |
| i_refundExcessEther                                                                  | 3883            | 7378   | 7378   | 10873  | 2       |
| i_removeAmountFromPosition                                                           | 47595           | 59469  | 59469  | 71343  | 2       |
| i_removeBlockedPendingAction                                                         | 29954           | 87041  | 66418  | 195218 | 13      |
| i_removeStalePendingAction                                                           | 6042            | 30558  | 31448  | 53295  | 4       |
| i_saveNewPosition                                                                    | 102372          | 164939 | 185795 | 185795 | 4       |
| i_sendRewardsToLiquidator                                                            | 52290           | 52388  | 52388  | 52486  | 2       |
| i_tickHash                                                                           | 1818            | 1818   | 1818   | 1818   | 1       |
| i_tickValue                                                                          | 4604            | 5478   | 4676   | 7154   | 6       |
| i_toDepositPendingAction                                                             | 7832            | 8665   | 7832   | 10332  | 3       |
| i_toLongPendingAction                                                                | 7782            | 7868   | 7782   | 10282  | 29      |
| i_toWithdrawalPendingAction                                                          | 7678            | 7990   | 7678   | 10178  | 8       |
| i_triggerRebalancer                                                                  | 6304            | 137354 | 48668  | 401837 | 8       |
| i_unadjustPrice                                                                      | 1952            | 5810   | 5810   | 9668   | 2       |
| i_usdnRebase                                                                         | 9251            | 43031  | 47108  | 67508  | 7       |
| i_validateClosePosition                                                              | 36313           | 198338 | 228988 | 305603 | 12      |
| i_validateDeposit                                                                    | 36352           | 36374  | 36374  | 36396  | 2       |
| i_validateOpenPosition                                                               | 36289           | 36311  | 36311  | 36333  | 2       |
| i_validateWithdrawal                                                                 | 36307           | 36329  | 36329  | 36351  | 2       |
| i_vaultAssetAvailable(uint128)                                                       | 3971            | 9852   | 5221   | 16971  | 110     |
| i_vaultAssetAvailable(uint256,uint256,uint256,uint128,uint128)                       | 3824            | 3824   | 3824   | 3824   | 5       |
| initialize                                                                           | 5337            | 540733 | 543417 | 569526 | 709     |
| initializeStorage                                                                    | 4228            | 4228   | 4228   | 4228   | 1       |
| initializeStorageHandler                                                             | 952369          | 952369 | 952369 | 952391 | 716     |
| initiateClosePosition                                                                | 1327            | 327900 | 333973 | 513859 | 65      |
| initiateDeposit                                                                      | 1361            | 371360 | 372211 | 507351 | 147     |
| initiateOpenPosition                                                                 | 1531            | 463330 | 483025 | 622531 | 282     |
| initiateWithdrawal                                                                   | 1282            | 325869 | 348008 | 526331 | 52      |
| liquidate                                                                            | 923             | 275138 | 258725 | 569569 | 42      |
| longAssetAvailableWithFunding                                                        | 3947            | 8053   | 7687   | 15016  | 10      |
| longTradingExpoWithFunding                                                           | 6880            | 9016   | 10051  | 10051  | 5       |
| minTick                                                                              | 2053            | 2303   | 2053   | 4053   | 8       |
| mockLiquidate                                                                        | 131686          | 193803 | 157754 | 331019 | 20      |
| owner                                                                                | 503             | 503    | 503    | 503    | 90      |
| previewDeposit                                                                       | 10786           | 14761  | 14761  | 18736  | 2       |
| previewWithdraw                                                                      | 10469           | 11380  | 11380  | 12292  | 2       |
| queueEmpty                                                                           | 503             | 503    | 503    | 503    | 1       |
| queuePushFront                                                                       | 189887          | 189887 | 189887 | 189887 | 1       |
| removeBlockedPendingAction(address,address)                                          | 13546           | 86096  | 120956 | 123788 | 3       |
| removeBlockedPendingAction(uint128,address)                                          | 120842          | 120842 | 120842 | 120842 | 1       |
| removeBlockedPendingActionNoCleanup(address,address)                                 | 13544           | 50746  | 69348  | 69348  | 3       |
| removeBlockedPendingActionNoCleanup(uint128,address)                                 | 69183           | 69183  | 69183  | 69183  | 1       |
| removePendingAction                                                                  | 37875           | 38686  | 38686  | 39497  | 4       |
| resetEMA                                                                             | 5270            | 5270   | 5270   | 5270   | 641     |
| setEMAPeriod                                                                         | 7939            | 9970   | 7946   | 14026  | 3       |
| setExpoImbalanceLimits                                                               | 7983            | 42530  | 41085  | 143718 | 769     |
| setFeeCollector                                                                      | 7880            | 11686  | 13967  | 13967  | 8       |
| setFeeThreshold                                                                      | 7873            | 11875  | 13877  | 13877  | 3       |
| setFundingSF                                                                         | 7832            | 14220  | 14187  | 31287  | 645     |
| setLiquidationIteration                                                              | 7912            | 10648  | 11182  | 13982  | 7       |
| setLiquidationPenalty                                                                | 7858            | 12931  | 13945  | 13945  | 12      |
| setLiquidationRewardsManager                                                         | 7901            | 9929   | 7917   | 13971  | 3       |
| setMaxLeverage                                                                       | 7809            | 12158  | 10335  | 16378  | 5       |
| setMinLeverage                                                                       | 7855            | 10659  | 9225   | 16330  | 4       |
| setMinLongPosition                                                                   | 7855            | 16303  | 16004  | 61867  | 689     |
| setOracleMiddleware                                                                  | 7923            | 9951   | 7939   | 13993  | 3       |
| setPendingProtocolFee                                                                | 22423           | 22423  | 22423  | 22423  | 2       |
| setPositionFeeBps                                                                    | 7892            | 13929  | 13951  | 13951  | 681     |
| setProtocolFeeBps                                                                    | 7931            | 13987  | 14018  | 14018  | 680     |
| setRebalancer                                                                        | 7851            | 26614  | 30982  | 30982  | 49      |
| setRebalancerBonusBps                                                                | 7862            | 10907  | 10909  | 13949  | 4       |
| setSafetyMarginBps                                                                   | 7794            | 9812   | 7807   | 13837  | 3       |
| setSdexBurnOnDepositRatio                                                            | 7908            | 14025  | 14044  | 14044  | 667     |
| setSecurityDepositValue                                                              | 7846            | 13863  | 13877  | 13877  | 639     |
| setTargetUsdnPrice                                                                   | 10050           | 18598  | 18620  | 18620  | 678     |
| setTickVersion                                                                       | 22613           | 22613  | 22613  | 22613  | 2       |
| setUsdnRebaseInterval                                                                | 30981           | 30981  | 30981  | 30981  | 16      |
| setUsdnRebaseThreshold                                                               | 9995            | 16056  | 16065  | 16065  | 677     |
| setValidatorDeadlines                                                                | 7953            | 13487  | 13277  | 19659  | 5       |
| setVaultFeeBps                                                                       | 7931            | 14000  | 14018  | 14018  | 680     |
| tickBitmapStatus                                                                     | 1968            | 1968   | 1968   | 1968   | 1       |
| tickHash                                                                             | 1475            | 1475   | 1475   | 1475   | 3       |
| tickValue                                                                            | 17049           | 20463  | 20463  | 23878  | 2       |
| transferPositionOwnership                                                            | 15315           | 24648  | 24067  | 35298  | 8       |
| updateBalances                                                                       | 41135           | 41135  | 41135  | 41135  | 4       |
| upgradeToAndCall                                                                     | 3083            | 23713  | 23713  | 44343  | 2       |
| usdnPrice(uint128)                                                                   | 11731           | 21457  | 11938  | 41438  | 20      |
| usdnPrice(uint128,uint128)                                                           | 11980           | 11980  | 11980  | 11980  | 1       |
| validateActionablePendingActions                                                     | 756             | 354043 | 325014 | 667368 | 15      |
| validateClosePosition                                                                | 1088            | 255136 | 247984 | 362603 | 20      |
| validateDeposit                                                                      | 1086            | 264717 | 259505 | 386200 | 95      |
| validateOpenPosition                                                                 | 1107            | 272355 | 270360 | 488480 | 207     |
| validateWithdrawal                                                                   | 1086            | 255965 | 262203 | 367689 | 21      |
| vaultAssetAvailableWithFunding                                                       | 3956            | 12074  | 9881   | 23305  | 13      |
