 test/unit/UsdnProtocol/utils/Handler.sol:UsdnProtocolHandler contract                |                 |        |        |        |         |
|--------------------------------------------------------------------------------------|-----------------|--------|--------|--------|---------|
| Deployment Cost                                                                      | Deployment Size |        |        |        |         |
| 13313723                                                                             | 61454           |        |        |        |         |
| Function Name                                                                        | min             | avg    | median | max    | # calls |
| BPS_DIVISOR                                                                          | 920             | 1098   | 920    | 5420   | 151     |
| DEAD_ADDRESS                                                                         | 885             | 885    | 885    | 885    | 99      |
| FUNDING_RATE_DECIMALS                                                                | 942             | 942    | 942    | 942    | 5       |
| FUNDING_SF_DECIMALS                                                                  | 906             | 3906   | 5406   | 5406   | 3       |
| LEVERAGE_DECIMALS                                                                    | 945             | 1845   | 945    | 5445   | 20      |
| LIQUIDATION_MULTIPLIER_DECIMALS                                                      | 5428            | 5428   | 5428   | 5428   | 1       |
| MAX_ACTIONABLE_PENDING_ACTIONS                                                       | 941             | 941    | 941    | 941    | 1       |
| MAX_LIQUIDATION_ITERATION                                                            | 5448            | 5448   | 5448   | 5448   | 2       |
| MIN_INIT_DEPOSIT                                                                     | 5396            | 5396   | 5396   | 5396   | 2       |
| MIN_USDN_SUPPLY                                                                      | 875             | 923    | 875    | 5375   | 186     |
| NO_POSITION_TICK                                                                     | 908             | 908    | 908    | 908    | 2       |
| PROXY_UPGRADE_ROLE                                                                   | 338             | 338    | 338    | 338    | 1       |
| SDEX_BURN_ON_DEPOSIT_DIVISOR                                                         | 914             | 2759   | 914    | 5414   | 100     |
| TOKENS_DECIMALS                                                                      | 914             | 1664   | 914    | 5414   | 12      |
| UPGRADE_INTERFACE_VERSION                                                            | 848             | 848    | 848    | 848    | 1       |
| acceptDefaultAdminTransfer                                                           | 43503           | 43503  | 43503  | 43503  | 704     |
| beginDefaultAdminTransfer                                                            | 29025           | 29025  | 29025  | 29025  | 704     |
| calcEMA                                                                              | 2311            | 2311   | 2311   | 2311   | 4       |
| emptyVault                                                                           | 10404           | 10404  | 10404  | 10404  | 2       |
| findLastSetInTickBitmap                                                              | 1467            | 2895   | 1467   | 5467   | 7       |
| funding                                                                              | 3859            | 7082   | 5954   | 14786  | 8       |
| getActionablePendingActions                                                          | 3437            | 24716  | 20436  | 47296  | 67      |
| getAsset                                                                             | 1001            | 7464   | 7501   | 7501   | 713     |
| getAssetDecimals                                                                     | 1042            | 1060   | 1042   | 7542   | 707     |
| getBalanceLong                                                                       | 995             | 2606   | 995    | 7495   | 108     |
| getBalanceVault                                                                      | 1036            | 2207   | 1036   | 7536   | 102     |
| getCloseExpoImbalanceLimitBps                                                        | 997             | 2518   | 2997   | 7497   | 23      |
| getCurrentLongPosition                                                               | 2485            | 2485   | 2485   | 2485   | 1       |
| getDepositExpoImbalanceLimitBps                                                      | 1020            | 2067   | 3020   | 3020   | 21      |
| getEMA                                                                               | 993             | 1937   | 993    | 7493   | 18      |
| getEMAPeriod                                                                         | 1018            | 1018   | 1018   | 1018   | 5       |
| getEffectivePriceForTick(int24)                                                      | 3662            | 6992   | 6212   | 23712  | 64      |
| getEffectivePriceForTick(int24,uint256,uint256,(uint256,uint256))                    | 3643            | 4403   | 3643   | 13693  | 106     |
| getEffectiveTickForPrice(uint128)                                                    | 4256            | 23473  | 26469  | 26469  | 17      |
| getEffectiveTickForPrice(uint128,uint256,uint256,(uint256,uint256),int24)            | 4311            | 8077   | 9248   | 10716  | 6       |
| getFallbackAddress                                                                   | 1012            | 1012   | 1012   | 1012   | 1       |
| getFeeCollector                                                                      | 970             | 970    | 970    | 970    | 99      |
| getFeeThreshold                                                                      | 997             | 1219   | 997    | 2997   | 9       |
| getFundingSF                                                                         | 998             | 1151   | 998    | 2998   | 13      |
| getHighestPopulatedTick                                                              | 1041            | 1072   | 1041   | 7541   | 809     |
| getLastFundingPerDay                                                                 | 971             | 2179   | 1971   | 5471   | 12      |
| getLastPrice                                                                         | 1054            | 2671   | 1054   | 7554   | 17      |
| getLastRebaseCheck                                                                   | 1011            | 3511   | 3011   | 5511   | 6       |
| getLastUpdateTimestamp                                                               | 1020            | 1672   | 1020   | 7520   | 23      |
| getLiqMultiplierAccumulator                                                          | 1247            | 2782   | 1247   | 5747   | 42      |
| getLiquidationIteration                                                              | 987             | 987    | 987    | 987    | 2       |
| getLiquidationPenalty                                                                | 988             | 1113   | 988    | 7488   | 715     |
| getLiquidationRewardsManager                                                         | 969             | 1969   | 1969   | 2969   | 2       |
| getLongImbalanceTargetBps                                                            | 1016            | 1349   | 1016   | 3016   | 12      |
| getLongPosition                                                                      | 2497            | 7387   | 7180   | 17180  | 181     |
| getLongTradingExpo                                                                   | 1324            | 2316   | 2003   | 8003   | 17      |
| getLowLatencyValidatorDeadline                                                       | 1010            | 2010   | 1010   | 7510   | 73      |
| getMaxLeverage                                                                       | 976             | 2989   | 2976   | 7476   | 722     |
| getMiddlewareValidationDelay                                                         | 8227            | 8227   | 8227   | 8227   | 1       |
| getMinLeverage                                                                       | 1041            | 4398   | 3041   | 7541   | 7       |
| getMinLongPosition                                                                   | 1043            | 3076   | 3043   | 7543   | 716     |
| getOnChainValidatorDeadline                                                          | 999             | 2032   | 999    | 7499   | 15      |
| getOpenExpoImbalanceLimitBps                                                         | 973             | 3092   | 2973   | 7473   | 21      |
| getOracleMiddleware                                                                  | 990             | 1990   | 1990   | 2990   | 2       |
| getPendingBalanceVault                                                               | 1017            | 2868   | 3017   | 7517   | 37      |
| getPendingProtocolFee                                                                | 971             | 3028   | 2971   | 7471   | 96      |
| getPositionFeeBps                                                                    | 988             | 1046   | 988    | 2988   | 103     |
| getPositionValue                                                                     | 17987           | 23439  | 18122  | 58694  | 17      |
| getPriceFeedDecimals                                                                 | 1045            | 2891   | 1045   | 7545   | 13      |
| getProtocolFeeBps                                                                    | 1042            | 4292   | 4292   | 7542   | 4       |
| getQueueItem                                                                         | 1951            | 1951   | 1951   | 1951   | 11      |
| getRebalancer                                                                        | 1056            | 1722   | 1056   | 3056   | 3       |
| getRebalancerBonusBps                                                                | 1064            | 3980   | 3314   | 7564   | 6       |
| getRebalancerCloseExpoImbalanceLimitBps                                              | 977             | 1592   | 977    | 2977   | 13      |
| getSafetyMarginBps                                                                   | 1014            | 2514   | 3014   | 3014   | 4       |
| getSdex                                                                              | 2967            | 2967   | 2967   | 2967   | 2       |
| getSdexBurnOnDepositRatio                                                            | 1034            | 1822   | 1034   | 7534   | 130     |
| getSecurityDepositValue                                                              | 970             | 3006   | 970    | 7470   | 384     |
| getTargetUsdnPrice                                                                   | 1011            | 2427   | 1011   | 7511   | 6       |
| getTickData                                                                          | 2041            | 3935   | 2041   | 14541  | 52      |
| getTickLiquidationPenalty                                                            | 2135            | 4038   | 2166   | 8166   | 13      |
| getTickSpacing                                                                       | 1052            | 1097   | 1052   | 7552   | 801     |
| getTickVersion                                                                       | 1246            | 2202   | 1246   | 7746   | 23      |
| getTotalExpo                                                                         | 1019            | 2171   | 1019   | 7519   | 92      |
| getTotalLongPositions                                                                | 971             | 3471   | 971    | 7471   | 37      |
| getUsdn                                                                              | 1008            | 2758   | 3008   | 3008   | 8       |
| getUsdnMinDivisor                                                                    | 2971            | 2971   | 2971   | 2971   | 2       |
| getUsdnRebaseInterval                                                                | 1020            | 2186   | 3020   | 3020   | 12      |
| getUsdnRebaseThreshold                                                               | 1049            | 1849   | 1049   | 3049   | 5       |
| getUserPendingAction                                                                 | 5195            | 8822   | 10218  | 10218  | 72      |
| getVaultFeeBps                                                                       | 1057            | 1342   | 1057   | 3057   | 7       |
| getWithdrawalExpoImbalanceLimitBps                                                   | 1014            | 2066   | 3014   | 3014   | 19      |
| i_addPendingAction                                                                   | 33687           | 166574 | 195717 | 212817 | 23      |
| i_applyPnlAndFunding                                                                 | 11492           | 47867  | 35557  | 78365  | 5       |
| i_assetToRemove                                                                      | 1214            | 1215   | 1214   | 1224   | 17      |
| i_calcBitmapIndexFromTick                                                            | 944             | 1944   | 1944   | 2944   | 2       |
| i_calcBurnUsdn                                                                       | 1320            | 2153   | 1320   | 3820   | 3       |
| i_calcFixedPrecisionMultiplier                                                       | 4085            | 4085   | 4085   | 4085   | 1       |
| i_calcImbalanceCloseBps                                                              | 750             | 1125   | 1204   | 1204   | 7       |
| i_calcImbalanceOpenBps                                                               | 1880            | 2945   | 2809   | 4281   | 4       |
| i_calcLiqPriceFromTradingExpo                                                        | 1888            | 3778   | 4388   | 4388   | 9       |
| i_calcPositionTotalExpo                                                              | 717             | 996    | 997    | 997    | 802     |
| i_calcRebalancerPositionTick                                                         | 11006           | 26211  | 27074  | 37948  | 6       |
| i_calcRebaseTotalSupply                                                              | 2623            | 3123   | 2623   | 5123   | 5       |
| i_calcSdexToBurn                                                                     | 699             | 701    | 699    | 721    | 9       |
| i_calcTickFromBitmapIndex                                                            | 4364            | 5364   | 5364   | 6364   | 2       |
| i_calcTickWithoutPenalty(int24)                                                      | 780             | 1002   | 780    | 2780   | 117     |
| i_calcTickWithoutPenalty(int24,uint24)                                               | 747             | 747    | 747    | 747    | 21      |
| i_calcUsdnPrice                                                                      | 2517            | 2829   | 2517   | 5017   | 8       |
| i_calcWithdrawalAmountLSB                                                            | 3809            | 3809   | 3809   | 3809   | 1       |
| i_calcWithdrawalAmountMSB                                                            | 1395            | 1395   | 1395   | 1395   | 1       |
| i_calculateFee                                                                       | 5326            | 5326   | 5326   | 5326   | 3       |
| i_checkImbalanceLimitClose                                                           | 4750            | 6367   | 5849   | 7708   | 7       |
| i_checkImbalanceLimitDeposit                                                         | 1598            | 4928   | 5430   | 7223   | 6       |
| i_checkImbalanceLimitOpen                                                            | 2895            | 7579   | 9352   | 10754  | 6       |
| i_checkImbalanceLimitWithdrawal                                                      | 2671            | 5034   | 5128   | 8398   | 6       |
| i_checkInitImbalance                                                                 | 1967            | 3827   | 4467   | 5235   | 7       |
| i_checkInitiateClosePosition                                                         | 3293            | 5709   | 5797   | 8307   | 12      |
| i_checkPendingFee                                                                    | 7654            | 30896  | 30896  | 54138  | 2       |
| i_checkSafetyMargin                                                                  | 4438            | 5394   | 5394   | 6350   | 2       |
| i_clearPendingAction                                                                 | 9819            | 42024  | 45666  | 54066  | 6       |
| i_convertDepositPendingAction                                                        | 3072            | 3072   | 3072   | 3072   | 13      |
| i_convertLongPendingAction                                                           | 3076            | 3076   | 3076   | 3076   | 3       |
| i_convertWithdrawalPendingAction                                                     | 3020            | 3020   | 3020   | 3020   | 1       |
| i_createClosePendingAction                                                           | 180416          | 181892 | 181892 | 183369 | 2       |
| i_createDepositPendingAction                                                         | 217146          | 218622 | 218622 | 220099 | 2       |
| i_createInitialDeposit                                                               | 156156          | 156156 | 156156 | 156156 | 1       |
| i_createInitialPosition                                                              | 336397          | 336397 | 336397 | 336397 | 1       |
| i_createOpenPendingAction                                                            | 153588          | 155064 | 155064 | 156541 | 2       |
| i_createWithdrawalPendingAction                                                      | 217164          | 218640 | 218640 | 220117 | 2       |
| i_executePendingAction                                                               | 16192           | 79813  | 43790  | 251232 | 5       |
| i_executePendingActionOrRevert                                                       | 42841           | 82278  | 43983  | 198305 | 4       |
| i_findHighestPopulatedTick                                                           | 2960            | 485447 | 716660 | 716660 | 6       |
| i_flashClosePosition                                                                 | 8290            | 39993  | 26977  | 84712  | 3       |
| i_flashOpenPosition                                                                  | 109958          | 151276 | 151276 | 192595 | 2       |
| i_funding                                                                            | 20830           | 97674  | 116358 | 117602 | 11      |
| i_fundingPerDay                                                                      | 3241            | 4241   | 4241   | 5241   | 4       |
| i_getActionablePendingAction                                                         | 12364           | 42821  | 39247  | 97611  | 12      |
| i_getEffectivePriceForTick                                                           | 2428            | 2428   | 2428   | 2428   | 11      |
| i_getLeverage                                                                        | 685             | 1200   | 1258   | 1258   | 20      |
| i_getLiquidationPrice                                                                | 1243            | 1243   | 1243   | 1243   | 5       |
| i_getOraclePrice                                                                     | 12679           | 28179  | 27363  | 46649  | 37      |
| i_getPendingAction                                                                   | 5051            | 9376   | 10073  | 10073  | 44      |
| i_getPendingActionOrRevert                                                           | 6802            | 8612   | 8612   | 10423  | 2       |
| i_getTickFromDesiredLiqPrice(uint128,uint256,int24,uint24)                           | 6558            | 6558   | 6558   | 6558   | 3       |
| i_getTickFromDesiredLiqPrice(uint128,uint256,uint256,(uint256,uint256),int24,uint24) | 6464            | 11482  | 11464  | 19221  | 702     |
| i_initiateClosePosition                                                              | 13680           | 141466 | 27203  | 288651 | 11      |
| i_liquidatePositions                                                                 | 7658            | 183799 | 113641 | 500255 | 4       |
| i_longAssetAvailable                                                                 | 986             | 3305   | 1665   | 7665   | 13      |
| i_mergeWithdrawalAmountParts                                                         | 630             | 630    | 630    | 630    | 6       |
| i_positionValue                                                                      | 1000            | 1006   | 1000   | 1076   | 12      |
| i_prepareClosePositionData                                                           | 148480          | 213601 | 245189 | 247134 | 3       |
| i_prepareInitiateDepositData                                                         | 82588           | 156543 | 156543 | 230498 | 2       |
| i_prepareValidateOpenPositionData                                                    | 161074          | 225527 | 257489 | 258019 | 3       |
| i_prepareWithdrawalData                                                              | 62825           | 146737 | 146737 | 230650 | 2       |
| i_protocolFeeBps                                                                     | 416             | 416    | 416    | 416    | 4       |
| i_refundEther                                                                        | 3768            | 13499  | 7259   | 35712  | 4       |
| i_refundExcessEther                                                                  | 3950            | 7445   | 7445   | 10940  | 2       |
| i_removeAmountFromPosition                                                           | 44277           | 55758  | 55758  | 67239  | 2       |
| i_removeBlockedPendingAction                                                         | 29864           | 86821  | 66280  | 194306 | 13      |
| i_removeStalePendingAction                                                           | 6020            | 30537  | 31427  | 53274  | 4       |
| i_saveNewPosition                                                                    | 99070           | 161047 | 181707 | 181707 | 4       |
| i_sendRewardsToLiquidator                                                            | 52239           | 52337  | 52337  | 52435  | 2       |
| i_tickHash                                                                           | 875             | 875    | 875    | 875    | 1       |
| i_tickValue                                                                          | 4626            | 5500   | 4698   | 7176   | 6       |
| i_toDepositPendingAction                                                             | 3097            | 3097   | 3097   | 3097   | 3       |
| i_toLongPendingAction                                                                | 3072            | 3072   | 3072   | 3072   | 29      |
| i_toWithdrawalPendingAction                                                          | 3066            | 3066   | 3066   | 3066   | 8       |
| i_triggerRebalancer                                                                  | 6261            | 134445 | 46926  | 393280 | 8       |
| i_unadjustPrice                                                                      | 1951            | 5809   | 5809   | 9667   | 2       |
| i_usdnRebase                                                                         | 9185            | 42965  | 47042  | 67442  | 7       |
| i_validateClosePosition                                                              | 36221           | 191713 | 220788 | 297478 | 12      |
| i_validateDeposit                                                                    | 36238           | 36260  | 36260  | 36282  | 2       |
| i_validateOpenPosition                                                               | 36219           | 36241  | 36241  | 36263  | 2       |
| i_validateWithdrawal                                                                 | 36260           | 36282  | 36282  | 36304  | 2       |
| i_vaultAssetAvailable(uint128)                                                       | 3044            | 7878   | 3044   | 13544  | 109     |
| i_vaultAssetAvailable(uint256,uint256,uint256,uint128,uint128)                       | 2964            | 2964   | 2964   | 2964   | 5       |
| initialize                                                                           | 5337            | 538108 | 540785 | 566894 | 707     |
| initializeStorage                                                                    | 4228            | 4228   | 4228   | 4228   | 1       |
| initializeStorageHandler                                                             | 952369          | 952369 | 952369 | 952391 | 714     |
| initiateClosePosition                                                                | 1349            | 312454 | 317230 | 488172 | 65      |
| initiateDeposit                                                                      | 1361            | 364467 | 365331 | 497885 | 147     |
| initiateOpenPosition                                                                 | 1520            | 451417 | 469561 | 602868 | 281     |
| initiateWithdrawal                                                                   | 1240            | 319347 | 341017 | 516754 | 52      |
| liquidate                                                                            | 923             | 272754 | 255823 | 566074 | 42      |
| longAssetAvailableWithFunding                                                        | 3902            | 8015   | 7650   | 14978  | 10      |
| longTradingExpoWithFunding                                                           | 6844            | 8981   | 10016  | 10016  | 5       |
| minTick                                                                              | 2074            | 2324   | 2074   | 4074   | 8       |
| mockLiquidate                                                                        | 130912          | 192095 | 156982 | 326019 | 20      |
| owner                                                                                | 503             | 503    | 503    | 503    | 90      |
| previewDeposit                                                                       | 9797            | 13774  | 13774  | 17752  | 2       |
| previewWithdraw                                                                      | 9546            | 10457  | 10457  | 11368  | 2       |
| queueEmpty                                                                           | 503             | 503    | 503    | 503    | 1       |
| queuePushFront                                                                       | 189887          | 189887 | 189887 | 189887 | 1       |
| removeBlockedPendingAction(address,address)                                          | 13523           | 86074  | 120933 | 123766 | 3       |
| removeBlockedPendingAction(uint128,address)                                          | 120797          | 120797 | 120797 | 120797 | 1       |
| removeBlockedPendingActionNoCleanup(address,address)                                 | 13522           | 50724  | 69326  | 69326  | 3       |
| removeBlockedPendingActionNoCleanup(uint128,address)                                 | 69138           | 69138  | 69138  | 69138  | 1       |
| removePendingAction                                                                  | 37853           | 38664  | 38664  | 39475  | 4       |
| resetEMA                                                                             | 5270            | 5270   | 5270   | 5270   | 639     |
| setEMAPeriod                                                                         | 7939            | 9970   | 7946   | 14026  | 3       |
| setExpoImbalanceLimits                                                               | 7983            | 42533  | 41085  | 143718 | 767     |
| setFeeCollector                                                                      | 7880            | 11686  | 13967  | 13967  | 8       |
| setFeeThreshold                                                                      | 7874            | 11876  | 13878  | 13878  | 3       |
| setFundingSF                                                                         | 7832            | 14220  | 14187  | 31287  | 643     |
| setLiquidationIteration                                                              | 7912            | 10648  | 11182  | 13982  | 7       |
| setLiquidationPenalty                                                                | 7858            | 12931  | 13945  | 13945  | 12      |
| setLiquidationRewardsManager                                                         | 7901            | 9929   | 7917   | 13971  | 3       |
| setMaxLeverage                                                                       | 7809            | 12158  | 10335  | 16378  | 5       |
| setMinLeverage                                                                       | 7855            | 10659  | 9225   | 16330  | 4       |
| setMinLongPosition                                                                   | 7855            | 16304  | 16004  | 61867  | 687     |
| setOracleMiddleware                                                                  | 7923            | 9951   | 7939   | 13993  | 3       |
| setPendingProtocolFee                                                                | 22423           | 22423  | 22423  | 22423  | 2       |
| setPositionFeeBps                                                                    | 7892            | 13929  | 13951  | 13951  | 679     |
| setProtocolFeeBps                                                                    | 7931            | 13986  | 14018  | 14018  | 678     |
| setRebalancer                                                                        | 7851            | 26614  | 30982  | 30982  | 49      |
| setRebalancerBonusBps                                                                | 7862            | 10907  | 10909  | 13949  | 4       |
| setSafetyMarginBps                                                                   | 7795            | 9813   | 7808   | 13838  | 3       |
| setSdexBurnOnDepositRatio                                                            | 7908            | 14025  | 14044  | 14044  | 665     |
| setSecurityDepositValue                                                              | 7846            | 13863  | 13877  | 13877  | 637     |
| setTargetUsdnPrice                                                                   | 10049           | 18597  | 18619  | 18619  | 676     |
| setTickVersion                                                                       | 22635           | 22635  | 22635  | 22635  | 2       |
| setUsdnRebaseInterval                                                                | 30980           | 30980  | 30980  | 30980  | 16      |
| setUsdnRebaseThreshold                                                               | 9994            | 16055  | 16064  | 16064  | 675     |
| setValidatorDeadlines                                                                | 7953            | 13487  | 13277  | 19659  | 5       |
| setVaultFeeBps                                                                       | 7931            | 14000  | 14018  | 14018  | 678     |
| tickBitmapStatus                                                                     | 1179            | 1179   | 1179   | 1179   | 1       |
| tickHash                                                                             | 695             | 695    | 695    | 695    | 3       |
| tickValue                                                                            | 16252           | 19666  | 19666  | 23080  | 2       |
| transferPositionOwnership                                                            | 12007           | 21351  | 20765  | 32023  | 8       |
| updateBalances                                                                       | 41123           | 41123  | 41123  | 41123  | 4       |
| upgradeToAndCall                                                                     | 3083            | 23702  | 23702  | 44321  | 2       |
| usdnPrice(uint128)                                                                   | 10808           | 20534  | 11015  | 40515  | 20      |
| usdnPrice(uint128,uint128)                                                           | 11080           | 11080  | 11080  | 11080  | 1       |
| validateActionablePendingActions                                                     | 778             | 336481 | 303283 | 631623 | 15      |
| validateClosePosition                                                                | 1088            | 246210 | 239825 | 342740 | 20      |
| validateDeposit                                                                      | 1086            | 257480 | 252418 | 372106 | 95      |
| validateOpenPosition                                                                 | 1107            | 258495 | 256702 | 466496 | 207     |
| validateWithdrawal                                                                   | 1108            | 247988 | 254308 | 358063 | 21      |
| vaultAssetAvailableWithFunding                                                       | 3912            | 11179  | 8915   | 22338  | 13      |
